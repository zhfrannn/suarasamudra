<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Learning - Suara Samudra</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body class="min-h-screen flex flex-col">
    <header class="ocean-gradient text-white shadow-lg">
        <div class="container mx-auto px-4 py-6">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <a href="index.html" class="flex items-center mb-4 md:mb-0">
                    <div class="wave-pattern rounded-full p-3 mr-4">
                        <i class="fas fa-wave-square text-3xl"></i>
                    </div>
                    <div>
                        <h1 class="text-2xl md:text-3xl font-bold">Suara Samudra</h1>
                        <p class="text-sm md:text-base opacity-80">AI-Powered Story Archive of Aceh</p>
                    </div>
                </a>
                <nav class="flex space-x-1 md:space-x-4">
                    <a href="about.html" class="px-3 py-2 rounded-lg hover:bg-white hover:bg-opacity-20 transition">About</a>
                    <a href="stories.html" class="px-3 py-2 rounded-lg hover:bg-white hover:bg-opacity-20 transition">Stories</a>
                    <a href="interactive.html" class="px-3 py-2 rounded-lg hover:bg-white hover:bg-opacity-20 transition">Interactive</a>
                    <a href="contribute.html" class="px-3 py-2 rounded-lg hover:bg-white hover:bg-opacity-20 transition">Contribute</a>
                    <div class="relative group">
                        <button class="px-3 py-2 rounded-lg hover:bg-white hover:bg-opacity-20 transition flex items-center">
                            <span>ID</span>
                            <i class="fas fa-chevron-down ml-1 text-xs"></i>
                        </button>
                        <div class="absolute right-0 mt-2 w-32 bg-white text-gray-800 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 z-10">
                            <a href="#" class="block px-4 py-2 hover:bg-blue-50 rounded-t-lg">Bahasa Aceh</a>
                            <a href="#" class="block px-4 py-2 hover:bg-blue-50">English</a>
                            <a href="#" class="block px-4 py-2 hover:bg-blue-50 rounded-b-lg">Indonesia</a>
                        </div>
                    </div>
                </nav>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="py-16 bg-gradient-to-r from-blue-50 to-cyan-50">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-4xl md:text-5xl font-bold text-gray-800 mb-4">Interactive Learning Hub</h2>
                <div class="w-24 h-1 bg-blue-600 mx-auto mb-6"></div>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto">Explore Aceh's stories through gamified quizzes, educational videos, and interactive comics</p>
            </div>
        </div>
    </section>

    <!-- Main Quiz and Leaderboard Section -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <div class="grid lg:grid-cols-3 gap-8">
                <!-- Main Quiz Section -->
                <div class="lg:col-span-2">
                    <div class="bg-white rounded-xl shadow-lg p-8 mb-8">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-3xl font-bold text-gray-800">
                                <i class="fas fa-gamepad text-blue-600 mr-3"></i>Disaster Preparedness Quiz
                            </h3>
                            <div class="flex items-center space-x-4">
                                <div class="text-sm text-gray-600">
                                    Progress: <span id="progress-text">0%</span>
                                </div>
                                <div class="w-32 h-2 bg-gray-200 rounded-full simulation-progress">
                                    <div class="simulation-progress-bar rounded-full" id="progress-bar" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-8">
                            <p class="text-gray-700 text-lg leading-relaxed" id="scenario-text">
                                Welcome to the Interactive Disaster Preparedness Quiz! Test your knowledge about tsunami warnings, community response, and traditional wisdom like Smong. Click "Start Quiz" to begin your learning journey.
                            </p>
                        </div>
                        
                        <div class="space-y-4 mb-8" id="choices-container">
                            <div class="text-center py-12">
                                <i class="fas fa-play-circle text-6xl text-blue-600 mb-4"></i>
                                <h4 class="text-2xl font-bold text-gray-800 mb-4">Ready to Test Your Knowledge?</h4>
                                <p class="text-gray-600 mb-6">Learn about disaster preparedness through interactive scenarios based on real stories from Aceh.</p>
                                <button onclick="startMainQuiz()" class="btn-primary btn-icon btn-ripple text-lg px-8 py-4">
                                    <i class="fas fa-play mr-3"></i>Start Quiz
                                </button>
                            </div>
                        </div>
                        
                        <div class="flex justify-between items-center">
                            <button id="restart-btn" class="btn-secondary btn-icon btn-ripple hidden" onclick="startMainQuiz()">
                                <i class="fas fa-redo mr-2"></i> Restart Quiz
                            </button>
                            <button id="next-btn" class="btn-primary btn-icon btn-ripple hidden">
                                <i class="fas fa-arrow-right mr-2"></i> Next Question
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Leaderboard Section -->
                <div class="lg:col-span-1">
                    <div class="bg-white rounded-xl shadow-lg p-6 sticky top-6">
                        <h4 class="text-2xl font-bold text-gray-800 mb-6">
                            <i class="fas fa-trophy text-yellow-500 mr-3"></i>Leaderboard
                        </h4>
                        <div class="space-y-4 mb-6">
                            <div class="flex justify-between items-center p-4 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg border-l-4 border-yellow-500">
                                <div class="flex items-center">
                                    <div class="w-10 h-10 bg-yellow-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3">
                                        <i class="fas fa-crown"></i>
                                    </div>
                                    <div>
                                        <span class="font-bold text-gray-800">Tsunami Expert</span>
                                        <p class="text-xs text-gray-600">Perfect Score Achiever</p>
                                    </div>
                                </div>
                                <span class="text-yellow-600 font-bold text-lg">30/30</span>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                                <div class="flex items-center">
                                    <span class="w-8 h-8 bg-gray-400 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3">2</span>
                                    <span class="font-medium text-gray-800">Disaster Prepared</span>
                                </div>
                                <span class="text-gray-600 font-bold">28/30</span>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                                <div class="flex items-center">
                                    <span class="w-8 h-8 bg-gray-400 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3">3</span>
                                    <span class="font-medium text-gray-800">Community Helper</span>
                                </div>
                                <span class="text-gray-600 font-bold">25/30</span>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                                <div class="flex items-center">
                                    <span class="w-8 h-8 bg-gray-400 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3">4</span>
                                    <span class="font-medium text-gray-800">Peace Builder</span>
                                </div>
                                <span class="text-gray-600 font-bold">23/30</span>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                                <div class="flex items-center">
                                    <span class="w-8 h-8 bg-gray-400 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3">5</span>
                                    <span class="font-medium text-gray-800">Wisdom Keeper</span>
                                </div>
                                <span class="text-gray-600 font-bold">20/30</span>
                            </div>
                        </div>
                        <button class="btn-secondary btn-ripple w-full">
                            <i class="fas fa-list mr-2"></i> View Full Leaderboard
                        </button>
                        
                        <!-- Achievement Badges -->
                        <div class="mt-6 pt-6 border-t border-gray-200">
                            <h5 class="font-bold text-gray-800 mb-4">
                                <i class="fas fa-medal text-purple-600 mr-2"></i>Achievement Badges
                            </h5>
                            <div class="grid grid-cols-3 gap-2">
                                <div class="text-center p-2 bg-blue-50 rounded-lg">
                                    <i class="fas fa-water text-2xl text-blue-600 mb-1"></i>
                                    <p class="text-xs font-medium text-blue-800">Tsunami Expert</p>
                                </div>
                                <div class="text-center p-2 bg-green-50 rounded-lg">
                                    <i class="fas fa-hands-helping text-2xl text-green-600 mb-1"></i>
                                    <p class="text-xs font-medium text-green-800">Community Builder</p>
                                </div>
                                <div class="text-center p-2 bg-yellow-50 rounded-lg">
                                    <i class="fas fa-scroll text-2xl text-yellow-600 mb-1"></i>
                                    <p class="text-xs font-medium text-yellow-800">Wisdom Keeper</p>
                                </div>
                                <div class="text-center p-2 bg-purple-50 rounded-lg">
                                    <i class="fas fa-dove text-2xl text-purple-600 mb-1"></i>
                                    <p class="text-xs font-medium text-purple-800">Peace Maker</p>
                                </div>
                                <div class="text-center p-2 bg-red-50 rounded-lg">
                                    <i class="fas fa-shield-alt text-2xl text-red-600 mb-1"></i>
                                    <p class="text-xs font-medium text-red-800">Emergency Ready</p>
                                </div>
                                <div class="text-center p-2 bg-indigo-50 rounded-lg">
                                    <i class="fas fa-graduation-cap text-2xl text-indigo-600 mb-1"></i>
                                    <p class="text-xs font-medium text-indigo-800">Educator</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Educational Videos Section -->
    <section class="py-16 bg-gray-50">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12">
                <h3 class="text-3xl font-bold text-gray-800 mb-4">
                    <i class="fas fa-play-circle text-red-600 mr-3"></i>Educational Videos
                </h3>
                <p class="text-gray-600 max-w-3xl mx-auto">Watch educational videos from our story collection to deepen your understanding</p>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Tsunami Education Video -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden story-card">
                    <div class="relative">
                        <div class="h-48 bg-gradient-to-r from-blue-400 to-blue-600 flex items-center justify-center">
                            <i class="fas fa-play-circle text-6xl text-white opacity-80"></i>
                        </div>
                        <div class="absolute top-4 left-4">
                            <span class="px-3 py-1 bg-blue-100 text-blue-800 text-xs rounded-full">Tsunami</span>
                        </div>
                    </div>
                    <div class="p-6">
                        <h4 class="text-xl font-bold text-gray-800 mb-2">Understanding Tsunamis</h4>
                        <p class="text-gray-600 mb-4">Learn about tsunami formation, warning signs, and evacuation procedures</p>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center text-gray-500 text-sm">
                                <i class="fas fa-clock mr-1"></i> 8 min
                                <i class="fas fa-eye ml-3 mr-1"></i> 1,234
                            </div>
                            <button onclick="openVideoModal('tsunami')" class="btn-primary btn-ripple text-sm">
                                <i class="fas fa-play mr-2"></i>Watch
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Community Recovery Video -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden story-card">
                    <div class="relative">
                        <div class="h-48 bg-gradient-to-r from-green-400 to-green-600 flex items-center justify-center">
                            <i class="fas fa-play-circle text-6xl text-white opacity-80"></i>
                        </div>
                        <div class="absolute top-4 left-4">
                            <span class="px-3 py-1 bg-green-100 text-green-800 text-xs rounded-full">Recovery</span>
                        </div>
                    </div>
                    <div class="p-6">
                        <h4 class="text-xl font-bold text-gray-800 mb-2">Community-Based Recovery</h4>
                        <p class="text-gray-600 mb-4">Discover how communities rebuild stronger after disasters</p>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center text-gray-500 text-sm">
                                <i class="fas fa-clock mr-1"></i> 12 min
                                <i class="fas fa-eye ml-3 mr-1"></i> 987
                            </div>
                            <button onclick="openVideoModal('recovery')" class="btn-primary btn-ripple text-sm">
                                <i class="fas fa-play mr-2"></i>Watch
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Peacebuilding Video -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden story-card">
                    <div class="relative">
                        <div class="h-48 bg-gradient-to-r from-purple-400 to-purple-600 flex items-center justify-center">
                            <i class="fas fa-play-circle text-6xl text-white opacity-80"></i>
                        </div>
                        <div class="absolute top-4 left-4">
                            <span class="px-3 py-1 bg-purple-100 text-purple-800 text-xs rounded-full">Peace</span>
                        </div>
                    </div>
                    <div class="p-6">
                        <h4 class="text-xl font-bold text-gray-800 mb-2">Building Peace Through Community</h4>
                        <p class="text-gray-600 mb-4">Learn about conflict resolution and community peacebuilding</p>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center text-gray-500 text-sm">
                                <i class="fas fa-clock mr-1"></i> 10 min
                                <i class="fas fa-eye ml-3 mr-1"></i> 756
                            </div>
                            <button onclick="openVideoModal('peace')" class="btn-primary btn-ripple text-sm">
                                <i class="fas fa-play mr-2"></i>Watch
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Traditional Knowledge Video -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden story-card">
                    <div class="relative">
                        <div class="h-48 bg-gradient-to-r from-yellow-400 to-orange-500 flex items-center justify-center">
                            <i class="fas fa-play-circle text-6xl text-white opacity-80"></i>
                        </div>
                        <div class="absolute top-4 left-4">
                            <span class="px-3 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full">Wisdom</span>
                        </div>
                    </div>
                    <div class="p-6">
                        <h4 class="text-xl font-bold text-gray-800 mb-2">Traditional Knowledge Systems</h4>
                        <p class="text-gray-600 mb-4">Explore how indigenous knowledge complements modern science</p>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center text-gray-500 text-sm">
                                <i class="fas fa-clock mr-1"></i> 15 min
                                <i class="fas fa-eye ml-3 mr-1"></i> 1,456
                            </div>
                            <button onclick="openVideoModal('wisdom')" class="btn-primary btn-ripple text-sm">
                                <i class="fas fa-play mr-2"></i>Watch
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Flash Flood Safety Video -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden story-card">
                    <div class="relative">
                        <div class="h-48 bg-gradient-to-r from-red-400 to-red-600 flex items-center justify-center">
                            <i class="fas fa-play-circle text-6xl text-white opacity-80"></i>
                        </div>
                        <div class="absolute top-4 left-4">
                            <span class="px-3 py-1 bg-red-100 text-red-800 text-xs rounded-full">Emergency</span>
                        </div>
                    </div>
                    <div class="p-6">
                        <h4 class="text-xl font-bold text-gray-800 mb-2">Flash Flood Safety</h4>
                        <p class="text-gray-600 mb-4">Learn about flash flood risks and emergency response</p>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center text-gray-500 text-sm">
                                <i class="fas fa-clock mr-1"></i> 6 min
                                <i class="fas fa-eye ml-3 mr-1"></i> 892
                            </div>
                            <button onclick="openVideoModal('flood')" class="btn-primary btn-ripple text-sm">
                                <i class="fas fa-play mr-2"></i>Watch
                            </button>
                        </div>
                    </div>
                </div>

                <!-- View All Videos -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden story-card border-2 border-dashed border-gray-300 hover:border-blue-400 transition">
                    <div class="h-48 bg-gray-50 flex items-center justify-center">
                        <i class="fas fa-plus text-6xl text-gray-400"></i>
                    </div>
                    <div class="p-6 text-center">
                        <h4 class="text-xl font-bold text-gray-800 mb-2">View All Videos</h4>
                        <p class="text-gray-600 mb-4">Explore our complete collection of educational content</p>
                        <button onclick="window.location.href='stories.html'" class="btn-secondary btn-icon btn-ripple">
                            <i class="fas fa-video mr-2"></i> Browse All
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Digital Comics Section -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12">
                <h3 class="text-3xl font-bold text-gray-800 mb-4">
                    <i class="fas fa-images text-purple-600 mr-3"></i>Interactive Digital Comics
                </h3>
                <p class="text-gray-600 max-w-3xl mx-auto">Experience stories through visual storytelling and interactive comics</p>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- Tsunami Comic -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden story-card">
                    <div class="comic-panel h-48 bg-gradient-to-b from-blue-200 to-blue-400 flex items-center justify-center relative">
                        <div class="text-center">
                            <i class="fas fa-water text-6xl text-blue-800 mb-2"></i>
                            <p class="text-blue-900 font-bold">The Day the Sea Came</p>
                        </div>
                    </div>
                    <div class="p-4">
                        <h4 class="font-bold text-gray-800 mb-2">Tsunami Survivor Story</h4>
                        <p class="text-gray-600 text-sm mb-3">6 panels â€¢ Interactive</p>
                        <button onclick="openComicModal('tsunami')" class="btn-primary btn-ripple w-full text-sm">
                            <i class="fas fa-book-open mr-2"></i>Read Comic
                        </button>
                    </div>
                </div>

                <!-- Recovery Comic -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden story-card">
                    <div class="comic-panel h-48 bg-gradient-to-b from-green-200 to-green-400 flex items-center justify-center relative">
                        <div class="text-center">
                            <i class="fas fa-hands-helping text-6xl text-green-800 mb-2"></i>
                            <p class="text-green-900 font-bold">Spirit of Gotong Royong</p>
                        </div>
                    </div>
                    <div class="p-4">
                        <h4 class="font-bold text-gray-800 mb-2">Village Rebuilding</h4>
                        <p class="text-gray-600 text-sm mb-3">6 panels â€¢ Interactive</p>
                        <button onclick="openComicModal('recovery')" class="btn-primary btn-ripple w-full text-sm">
                            <i class="fas fa-book-open mr-2"></i>Read Comic
                        </button>
                    </div>
                </div>

                <!-- Peace Comic -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden story-card">
                    <div class="comic-panel h-48 bg-gradient-to-b from-purple-200 to-purple-400 flex items-center justify-center relative">
                        <div class="text-center">
                            <i class="fas fa-coffee text-6xl text-purple-800 mb-2"></i>
                            <p class="text-purple-900 font-bold">Coffee Diplomacy</p>
                        </div>
                    </div>
                    <div class="p-4">
                        <h4 class="font-bold text-gray-800 mb-2">From Conflict to Peace</h4>
                        <p class="text-gray-600 text-sm mb-3">6 panels â€¢ Interactive</p>
                        <button onclick="openComicModal('peace')" class="btn-primary btn-ripple w-full text-sm">
                            <i class="fas fa-book-open mr-2"></i>Read Comic
                        </button>
                    </div>
                </div>

                <!-- Wisdom Comic -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden story-card">
                    <div class="comic-panel h-48 bg-gradient-to-b from-yellow-200 to-orange-300 flex items-center justify-center relative">
                        <div class="text-center">
                            <i class="fas fa-scroll text-6xl text-orange-800 mb-2"></i>
                            <p class="text-orange-900 font-bold">Wisdom of Smong</p>
                        </div>
                    </div>
                    <div class="p-4">
                        <h4 class="font-bold text-gray-800 mb-2">Traditional Knowledge</h4>
                        <p class="text-gray-600 text-sm mb-3">6 panels â€¢ Interactive</p>
                        <button onclick="openComicModal('wisdom')" class="btn-primary btn-ripple w-full text-sm">
                            <i class="fas fa-book-open mr-2"></i>Read Comic
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Quick Access Links Section -->
    <section class="py-16 bg-gray-50">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12">
                <h3 class="text-3xl font-bold text-gray-800 mb-4">
                    <i class="fas fa-link text-indigo-600 mr-3"></i>Quick Access to Stories
                </h3>
                <p class="text-gray-600 max-w-3xl mx-auto">Jump directly to full story experiences with all educational content</p>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                <a href="stories/tsunami-survivor/index.html" class="bg-white rounded-xl shadow-lg p-6 story-card hover:shadow-xl transition-all">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mr-4">
                            <i class="fas fa-water text-blue-600 text-xl"></i>
                        </div>
                        <div>
                            <h4 class="font-bold text-gray-800">The Wave That Changed Everything</h4>
                            <span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full">Tsunami</span>
                        </div>
                    </div>
                    <p class="text-gray-600 mb-4">Complete story with video, comic, and interactive quiz</p>
                    <div class="flex items-center text-blue-600">
                        <span class="text-sm font-medium">View Full Story</span>
                        <i class="fas fa-arrow-right ml-2"></i>
                    </div>
                </a>

                <a href="stories/rebuilding-village/index.html" class="bg-white rounded-xl shadow-lg p-6 story-card hover:shadow-xl transition-all">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mr-4">
                            <i class="fas fa-hands-helping text-green-600 text-xl"></i>
                        </div>
                        <div>
                            <h4 class="font-bold text-gray-800">Rebuilding Our Village Together</h4>
                            <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">Recovery</span>
                        </div>
                    </div>
                    <p class="text-gray-600 mb-4">Complete story with video, comic, and interactive quiz</p>
                    <div class="flex items-center text-green-600">
                        <span class="text-sm font-medium">View Full Story</span>
                        <i class="fas fa-arrow-right ml-2"></i>
                    </div>
                </a>

                <a href="stories/coffee-shop/index.html" class="bg-white rounded-xl shadow-lg p-6 story-card hover:shadow-xl transition-all">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mr-4">
                            <i class="fas fa-dove text-purple-600 text-xl"></i>
                        </div>
                        <div>
                            <h4 class="font-bold text-gray-800">From Conflict to Coffee Shop</h4>
                            <span class="px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full">Peace</span>
                        </div>
                    </div>
                    <p class="text-gray-600 mb-4">Complete story with video, comic, and interactive quiz</p>
                    <div class="flex items-center text-purple-600">
                        <span class="text-sm font-medium">View Full Story</span>
                        <i class="fas fa-arrow-right ml-2"></i>
                    </div>
                </a>

                <a href="stories/smong-whispering-sea/index.html" class="bg-white rounded-xl shadow-lg p-6 story-card hover:shadow-xl transition-all">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center mr-4">
                            <i class="fas fa-scroll text-yellow-600 text-xl"></i>
                        </div>
                        <div>
                            <h4 class="font-bold text-gray-800">Smong, The Whispering Sea</h4>
                            <span class="px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full">Wisdom</span>
                        </div>
                    </div>
                    <p class="text-gray-600 mb-4">Complete story with video, comic, and interactive quiz</p>
                    <div class="flex items-center text-yellow-600">
                        <span class="text-sm font-medium">View Full Story</span>
                        <i class="fas fa-arrow-right ml-2"></i>
                    </div>
                </a>

                <a href="stories/flash-flood-midnight/index.html" class="bg-white rounded-xl shadow-lg p-6 story-card hover:shadow-xl transition-all">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center mr-4">
                            <i class="fas fa-exclamation-triangle text-red-600 text-xl"></i>
                        </div>
                        <div>
                            <h4 class="font-bold text-gray-800">Flash Flood at Midnight</h4>
                            <span class="px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full">Emergency</span>
                        </div>
                    </div>
                    <p class="text-gray-600 mb-4">Complete story with video, comic, and interactive quiz</p>
                    <div class="flex items-center text-red-600">
                        <span class="text-sm font-medium">View Full Story</span>
                        <i class="fas fa-arrow-right ml-2"></i>
                    </div>
                </a>

                <a href="stories.html" class="bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl shadow-lg p-6 story-card hover:shadow-xl transition-all border-2 border-dashed border-blue-300">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mr-4">
                            <i class="fas fa-plus text-blue-600 text-xl"></i>
                        </div>
                        <div>
                            <h4 class="font-bold text-gray-800">Explore All Stories</h4>
                            <span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full">Browse</span>
                        </div>
                    </div>
                    <p class="text-gray-600 mb-4">Discover more stories from Aceh's journey of resilience</p>
                    <div class="flex items-center text-blue-600">
                        <span class="text-sm font-medium">View All Stories</span>
                        <i class="fas fa-arrow-right ml-2"></i>
                    </div>
                </a>
            </div>
        </div>
    </section>

    <!-- Video Modal -->
    <div id="videoModal" class="fixed inset-0 z-50 overflow-y-auto hidden">
        <div class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 transition-opacity" aria-hidden="true">
                <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
            </div>
            <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
            <div class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full">
                <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-2xl font-bold text-gray-900" id="videoModalTitle">Educational Video</h3>
                        <button onclick="closeVideoModal()" class="text-gray-400 hover:text-gray-500">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                    <div class="relative" style="padding-bottom: 56.25%; height: 0;">
                        <iframe id="videoFrame" class="absolute top-0 left-0 w-full h-full" frameborder="0" allowfullscreen></iframe>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Comic Modal -->
    <div id="comicModal" class="fixed inset-0 z-50 overflow-y-auto hidden">
        <div class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 transition-opacity" aria-hidden="true">
                <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
            </div>
            <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
            <div class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-6xl sm:w-full">
                <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-2xl font-bold text-gray-900" id="comicModalTitle">Digital Comic</h3>
                        <button onclick="closeComicModal()" class="text-gray-400 hover:text-gray-500">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                    <div id="comicContent" class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                        <!-- Comic panels will be inserted here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-gray-800 text-white pt-12 pb-6">
        <div class="container mx-auto px-4">
            <div class="grid md:grid-cols-4 gap-8 mb-8">
                <div>
                    <h3 class="text-xl font-bold mb-4">Suara Samudra</h3>
                    <p class="text-gray-400">An AI-powered archive preserving Aceh's stories of disaster resilience and peace, transforming personal narratives into educational resources.</p>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">Quick Links</h4>
                    <ul class="space-y-2">
                        <li><a href="about.html" class="text-gray-400 hover:text-white transition">About Project</a></li>
                        <li><a href="stories.html" class="text-gray-400 hover:text-white transition">Explore Stories</a></li>
                        <li><a href="interactive.html" class="text-gray-400 hover:text-white transition">Interactive Tools</a></li>
                        <li><a href="contribute.html" class="text-gray-400 hover:text-white transition">Contribute</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">Resources</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Disaster Preparedness</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Peace Education</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Local Wisdom (Smong)</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Psychological Support</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">Connect</h4>
                    <div class="flex space-x-4 mb-4">
                        <a href="#" class="w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center hover:bg-blue-600 transition">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center hover:bg-blue-400 transition">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center hover:bg-red-600 transition">
                            <i class="fab fa-youtube"></i>
                        </a>
                        <a href="#" class="w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center hover:bg-green-500 transition">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                    </div>
                    <p class="text-gray-400">
                        <i class="fas fa-envelope mr-2"></i> contact@suarasamudra.id
                    </p>
                </div>
            </div>
            <div class="pt-6 border-t border-gray-700 text-center text-gray-400 text-sm">
                <p>Â© 2023 Suara Samudra. All rights reserved. | <a href="#" class="hover:text-white transition">Privacy Policy</a> | <a href="#" class="hover:text-white transition">Terms of Service</a></p>
            </div>
        </div>
    </footer>

    <script src="assets/js/main.js"></script>
    <script>
        // Enhanced Interactive Page JavaScript
        
        // Quiz Data from main.js
        const mainQuizData = [
            {
                id: 'scenario-1',
                title: "Scenario 1: Flash Flood at Midnight",
                question: "Based on true events from Calang, 2004. It's 2 AM and heavy rain has been falling for hours. You hear shouting outside and the sound of rushing water. What do you do first?",
                choices: [
                    { 
                        id: 'a', 
                        text: "Wake up family members and tell them to go to the evacuation point.", 
                        correct: true, 
                        feedback: "âœ…**Feedback AI:** Jawaban tepat! Tindakan paling krusial adalah evakuasi segera ke tempat aman. Selamatkan diri, bukan harta. ðŸ‘",
                        points: 10
                    },
                    { 
                        id: 'b', 
                        text: "Check social media to see what others are saying about the situation.", 
                        correct: false, 
                        feedback: "ðŸš¨**Feedback AI:** Pilihan ini berbahaya! Menunda evakuasi untuk mengecek media sosial bisa berakibat fatal. Ikuti naluri dan dengarkan peringatan di luar. âš ï¸",
                        points: 0
                    },
                    { 
                        id: 'c', 
                        text: "Go back to sleep, assuming the water won't reach your house.", 
                        correct: false, 
                        feedback: "ðŸš¨**Feedback AI:** Sangat berbahaya! Jangan pernah meremehkan peringatan bencana. Setiap detik berharga. âš ï¸",
                        points: 0
                    }
                ]
            },
            {
                id: 'scenario-2',
                title: "Scenario 2: Post-Disaster Hoax",
                question: "Satu hari setelah gempa, sebuah pesan berantai tersebar di WhatsApp yang mengklaim akan ada gempa susulan tsunami yang lebih besar. Warga panik. Apa yang harus kamu lakukan?",
                choices: [
                    { 
                        id: 'a', 
                        text: "Langsung menyebarkan pesan itu ke grup lain untuk memperingati semua orang.", 
                        correct: false, 
                        feedback: "ðŸš¨**Feedback AI:** Hati-hati! Menyebarkan informasi yang belum diverifikasi bisa menimbulkan kepanikan massal. âš ï¸",
                        points: 0
                    },
                    { 
                        id: 'b', 
                        text: "Tenang, dan verifikasi informasi tersebut dari sumber resmi seperti BMKG atau BPBD sebelum bertindak.", 
                        correct: true, 
                        feedback: "âœ…**Feedback AI:** Jawaban tepat! Verifikasi informasi dari sumber kredibel adalah kunci untuk melawan misinformasi. Kamu adalah agen komunikasi yang tangguh. ðŸ‘",
                        points: 10
                    },
                    { 
                        id: 'c', 
                        text: "Mengabaikan pesan itu sepenuhnya, karena kamu tidak percaya isinya.", 
                        correct: false, 
                        feedback: "ðŸš¨**Feedback AI:** Mengabaikan pesan bisa jadi berbahaya jika ternyata benar. Verifikasi adalah langkah yang paling bijak. âš ï¸",
                        points: 0
                    }
                ]
            },
            {
                id: 'scenario-3',
                title: "Scenario 3: Community Recovery",
                question: "Setelah bencana, komunitasmu memulai fase pemulihan. Banyak warga merasa trauma dan putus asa. Sebagai pemuda, bagaimana kamu bisa berkontribusi?",
                choices: [
                    { 
                        id: 'a', 
                        text: "Menunggu bantuan datang dan tidak melakukan apa-apa.", 
                        correct: false, 
                        feedback: "ðŸš¨**Feedback AI:** Pemulihan membutuhkan partisipasi aktif. Setiap orang punya peran penting, sekecil apa pun. âš ï¸",
                        points: 0
                    },
                    { 
                        id: 'b', 
                        text: "Mengajak teman-temanmu untuk mengadakan kegiatan gotong royong dan mendengarkan cerita para penyintas untuk saling menguatkan.", 
                        correct: true, 
                        feedback: "âœ…**Feedback AI:** Jawaban tepat! Gotong royong dan dukungan psikososial adalah fondasi kuat untuk membangun kembali komunitas. Kamu telah menunjukkan empati dan inisiatif. ðŸ‘",
                        points: 10
                    },
                    { 
                        id: 'c', 
                        text: "Mencari keuntungan pribadi dari situasi yang ada.", 
                        correct: false, 
                        feedback: "ðŸš¨**Feedback AI:** Sikap ini sangat tidak etis dan bisa merusak kepercayaan di komunitas. Pemulihan adalah tentang kolaborasi, bukan persaingan. âš ï¸",
                        points: 0
                    }
                ]
            }
        ];

        let currentMainQuestion = 0;
        let mainQuizScore = 0;
        let mainQuizStarted = false;

        function startMainQuiz() {
            currentMainQuestion = 0;
            mainQuizScore = 0;
            mainQuizStarted = true;
            showMainQuestion();
        }

        function showMainQuestion() {
            const question = mainQuizData[currentMainQuestion];
            
            document.getElementById('scenario-text').textContent = question.question;
            
            const choicesContainer = document.getElementById('choices-container');
            choicesContainer.innerHTML = '';
            
            question.choices.forEach((choice, index) => {
                const button = document.createElement('button');
                button.className = 'choice-btn w-full text-left p-4 rounded-lg bg-white hover:bg-blue-50 transition border-2 border-gray-200 hover:border-blue-300 mb-4';
                button.innerHTML = `
                    <div class="flex items-center">
                        <div class="w-8 h-8 rounded-full border-2 border-blue-600 flex items-center justify-center mr-4 flex-shrink-0">
                            <span class="text-blue-600 font-bold">${String.fromCharCode(65 + index)}</span>
                        </div>
                        <span class="text-gray-800">${choice.text}</span>
                    </div>
                `;
                button.onclick = () => selectMainAnswer(choice);
                choicesContainer.appendChild(button);
            });

            // Update progress
            const progress = ((currentMainQuestion + 1) / mainQuizData.length) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
            document.getElementById('progress-text').textContent = `${Math.round(progress)}%`;

            document.getElementById('restart-btn').classList.remove('hidden');
            document.getElementById('next-btn').classList.add('hidden');
        }

        function selectMainAnswer(selectedChoice) {
            if (selectedChoice.correct) {
                mainQuizScore += selectedChoice.points;
            }
            
            // Show feedback
            const feedbackDiv = document.createElement('div');
            feedbackDiv.className = `mt-4 p-4 rounded-lg ${selectedChoice.correct ? 'bg-green-100 border border-green-200' : 'bg-red-100 border border-red-200'}`;
            feedbackDiv.innerHTML = `<p class="font-medium ${selectedChoice.correct ? 'text-green-800' : 'text-red-800'}">${selectedChoice.feedback}</p>`;
            document.getElementById('choices-container').appendChild(feedbackDiv);
            
            // Disable all buttons
            const buttons = document.querySelectorAll('.choice-btn');
            buttons.forEach(button => button.disabled = true);
            
            if (currentMainQuestion < mainQuizData.length - 1) {
                setTimeout(() => {
                    currentMainQuestion++;
                    showMainQuestion();
                }, 3000);
            } else {
                setTimeout(showMainQuizResults, 3000);
            }
        }

        function showMainQuizResults() {
            const percentage = Math.round((mainQuizScore / 30) * 100);
            
            document.getElementById('choices-container').innerHTML = `
                <div class="text-center py-12">
                    <i class="fas fa-trophy text-6xl text-yellow-500 mb-4"></i>
                    <h4 class="text-3xl font-bold text-gray-800 mb-4">Quiz Completed!</h4>
                    <p class="text-xl text-gray-700 mb-4">Your Score: <span class="font-bold text-blue-600">${mainQuizScore}/30 (${percentage}%)</span></p>
                    <p class="text-lg text-gray-700 mb-4">Your Score: <span id="peace-final-score" class="font-bold text-blue-600"></span></p>
                    ${percentage >= 70 ? 
                        '<p class="text-green-600 font-semibold mb-4">ðŸŽ‰ Congratulations! You earned a certificate!</p>' :
                        '<p class="text-orange-600 mb-4">Keep learning and try again to earn your certificate!</p>'
                    }
                    <div class="flex justify-center space-x-4">
                        <button onclick="startMainQuiz()" class="btn-secondary btn-icon btn-ripple">
                            <i class="fas fa-redo mr-2"></i>Try Again
                        </button>
                        <a href="stories.html" class="btn-primary btn-icon btn-ripple">
                            <i class="fas fa-book mr-2"></i>Explore Stories
                        </a>
                    </div>
                </div>
            `;
            
            const percentage = Math.round((result.total_score / 30) * 100);
            document.getElementById('peace-final-score').textContent = `${result.total_score}/30 (${percentage}%)`;
        }

        // Make functions globally available
        window.startMainQuiz = startMainQuiz;
    </script>

    <script>
        // Make functions globally available
        window.startQuiz = startQuiz;
        window.trackEvent = trackEvent;
        window.openVideoModal = openVideoModal;
        window.closeVideoModal = closeVideoModal;
        window.openComicModal = openComicModal;
        window.closeComicModal = closeComicModal;
        
        // Video Modal Functions
        function openVideoModal(type) {
            const videoData = {
                tsunami: {
                    title: "Understanding Tsunamis",
                    url: "https://www.youtube.com/embed/Wx9vPv-T51I"
                },
                recovery: {
                    title: "Community-Based Recovery",
                    url: "https://www.youtube.com/embed/kJQP7kiw5Fk"
                },
                peace: {
                    title: "Building Peace Through Community",
                    url: "https://www.youtube.com/embed/A4VbOHvaPRc"
                },
                wisdom: {
                    title: "Traditional Knowledge Systems",
                    url: "https://www.youtube.com/embed/yfiMGbKQCGw"
                },
                flood: {
                    title: "Flash Flood Safety",
                    url: "https://www.youtube.com/embed/BLEPakj1YTY"
                }
            };
            
            const video = videoData[type];
            if (video) {
                document.getElementById('videoModalTitle').textContent = video.title;
                document.getElementById('videoFrame').src = video.url;
                document.getElementById('videoModal').classList.remove('hidden');
            }
        }
        
        function closeVideoModal() {
            document.getElementById('videoModal').classList.add('hidden');
            document.getElementById('videoFrame').src = '';
        }
        
        // Comic Modal Functions
        function openComicModal(type) {
            const comicData = {
                tsunami: {
                    title: "The Day the Sea Came",
                    panels: [
                        { bg: "from-yellow-200 to-orange-300", icon: "fas fa-home", color: "text-orange-800", title: "A Peaceful Morning", text: "It was just another Sunday morning..." },
                        { bg: "from-red-200 to-red-400", icon: "fas fa-exclamation-triangle", color: "text-red-800", title: "The Earth Shakes", text: "The ground trembled beneath our feet..." },
                        { bg: "from-blue-200 to-blue-400", icon: "fas fa-water", color: "text-blue-800", title: "The Sea Retreats", text: "The ocean pulled back further than ever..." },
                        { bg: "from-gray-300 to-gray-500", icon: "fas fa-running", color: "text-gray-800", title: "Run to the Hills!", text: "My father shouted the ancient warning..." },
                        { bg: "from-indigo-300 to-indigo-600", icon: "fas fa-mountain", color: "text-indigo-100", title: "Safety on High Ground", text: "From the hill, we watched our world disappear..." },
                        { bg: "from-green-200 to-green-400", icon: "fas fa-hands-helping", color: "text-green-800", title: "Community Strength", text: "In our darkest hour, we discovered gotong royong..." }
                    ]
                },
                recovery: {
                    title: "Spirit of Gotong Royong",
                    panels: [
                        { bg: "from-gray-300 to-gray-500", icon: "fas fa-home", color: "text-gray-700", title: "After the Wave", text: "Our village was gone, but our spirit remained..." },
                        { bg: "from-blue-200 to-blue-400", icon: "fas fa-users", color: "text-blue-800", title: "Coming Together", text: "Every morning at 7 AM, we gathered..." },
                        { bg: "from-yellow-200 to-orange-300", icon: "fas fa-tools", color: "text-orange-800", title: "Learning New Skills", text: "Fishermen became carpenters..." },
                        { bg: "from-green-200 to-green-400", icon: "fas fa-school", color: "text-green-800", title: "Building Hope", text: "We decided to build the school first..." },
                        { bg: "from-purple-200 to-purple-400", icon: "fas fa-child", color: "text-purple-800", title: "Children's Laughter", text: "The day our children returned to school..." },
                        { bg: "from-indigo-200 to-indigo-400", icon: "fas fa-heart", color: "text-indigo-800", title: "Stronger Together", text: "Our village became stronger than ever..." }
                    ]
                },
                peace: {
                    title: "Coffee Diplomacy",
                    panels: [
                        { bg: "from-red-200 to-red-400", icon: "fas fa-fist-raised", color: "text-red-800", title: "After the Conflict", text: "The peace agreement was signed, but hearts were divided..." },
                        { bg: "from-yellow-200 to-yellow-600", icon: "fas fa-coffee", color: "text-yellow-900", title: "Opening the Warung", text: "I just wanted to make good coffee..." },
                        { bg: "from-gray-200 to-gray-400", icon: "fas fa-eye", color: "text-gray-800", title: "Silent Tension", text: "Former enemies sat as far apart as possible..." },
                        { bg: "from-blue-200 to-blue-400", icon: "fas fa-comments", color: "text-blue-800", title: "Breaking the Ice", text: "This is a coffee shop, not a battlefield..." },
                        { bg: "from-green-200 to-green-400", icon: "fas fa-handshake", color: "text-green-800", title: "First Steps", text: "A nod here, a 'good morning' there..." },
                        { bg: "from-purple-200 to-purple-400", icon: "fas fa-heart", color: "text-purple-800", title: "Warung Damai", text: "The Peace Coffee Shop - where former enemies became friends..." }
                    ]
                },
                wisdom: {
                    title: "Wisdom of Smong",
                    panels: [
                        { bg: "from-green-200 to-green-400", icon: "fas fa-tree", color: "text-green-800", title: "Under the Banyan Tree", text: "Grandmother taught us the ancient warnings..." },
                        { bg: "from-blue-200 to-blue-400", icon: "fas fa-water", color: "text-blue-800", title: "Reading the Sea", text: "The sea is like a person with moods..." },
                        { bg: "from-red-200 to-red-400", icon: "fas fa-exclamation-triangle", color: "text-red-800", title: "The Warning Signs", text: "When the earth shakes and the sea retreats..." },
                        { bg: "from-yellow-200 to-orange-300", icon: "fas fa-running", color: "text-orange-800", title: "Run to the Hills!", text: "Don't think, don't pack - just run!" },
                        { bg: "from-purple-200 to-purple-400", icon: "fas fa-mountain", color: "text-purple-800", title: "Safe on High Ground", text: "Stay until the sea has been calm..." },
                        { bg: "from-indigo-200 to-indigo-400", icon: "fas fa-child", color: "text-indigo-800", title: "Passing It On", text: "Now I teach the next generation..." }
                    ]
                }
            };
            
            const comic = comicData[type];
            if (comic) {
                document.getElementById('comicModalTitle').textContent = comic.title;
                const comicContent = document.getElementById('comicContent');
                comicContent.innerHTML = '';
                
                comic.panels.forEach(panel => {
                    const panelDiv = document.createElement('div');
                    panelDiv.className = 'comic-panel bg-white rounded-lg p-4';
                    panelDiv.innerHTML = `
                        <div class="h-48 bg-gradient-to-b ${panel.bg} rounded-lg flex items-center justify-center mb-4 relative">
                            <div class="text-center">
                                <i class="${panel.icon} text-4xl ${panel.color} mb-2"></i>
                                <p class="${panel.color} font-bold text-sm">${panel.title}</p>
                            </div>
                        </div>
                        <div class="bg-gray-100 rounded-lg p-3">
                            <p class="text-xs font-medium text-gray-800">${panel.text}</p>
                        </div>
                    `;
                    comicContent.appendChild(panelDiv);
                });
                
                document.getElementById('comicModal').classList.remove('hidden');
            }
        }
        
        function closeComicModal() {
            document.getElementById('comicModal').classList.add('hidden');
        }
        
        // =================================================================
        // BAGIAN SIMULASI KUIS (STATIS)
        // =================================================================
        
        // Simulasi data kuis untuk demo
        const quizData = [
            {
                id: 1,
                question: "What is the traditional warning system for tsunamis in Aceh?",
                choices: ["Smong", "Siren", "Radio", "Bell"],
                correct: 0,
                feedback: "Correct! Smong is the traditional oral warning system passed down through generations in Aceh."
            },
            {
                id: 2,
                question: "What should you do first when you feel a strong earthquake near the coast?",
                choices: ["Take photos", "Run to higher ground", "Call emergency services", "Stay inside"],
                correct: 1,
                feedback: "Correct! Running to higher ground immediately is the most important action during a coastal earthquake."
            },
            {
                id: 3,
                question: "What does 'gotong royong' mean in community recovery?",
                choices: ["Individual effort", "Government help", "Mutual assistance", "Foreign aid"],
                correct: 2,
                feedback: "Correct! Gotong royong represents the spirit of mutual assistance and community cooperation."
            }
        ];
        
        let currentQuizSession = null;
        let currentQuestion = 0;
        let score = 0;
        let quizStarted = false;
        
        // Simulasi session management
        function createQuizSession() {
            return {
                id: 'session_' + Date.now(),
                user_id: 'user_' + Math.random().toString(36).substr(2, 9),
                start_time: new Date().toISOString(),
                questions_answered: 0,
                current_score: 0
            };
        }
        
        // Simulasi tracking events
        function trackEvent(eventName, data) {
            console.log(`Event: ${eventName}`, data);
            // Dalam implementasi nyata, ini akan mengirim data ke analytics service
        }
        
        // Simulasi API call untuk submit jawaban
        async function submitAnswer(questionId, selectedAnswer) {
            // Simulasi delay network
            await new Promise(resolve => setTimeout(resolve, 500));
            
            const question = quizData.find(q => q.id === questionId);
            const isCorrect = question.correct === selectedAnswer;
            const points = isCorrect ? 10 : 0;
            
            // Update session
            if (currentQuizSession) {
                currentQuizSession.questions_answered++;
                currentQuizSession.current_score += points;
            }
            
            return {
                correct: isCorrect,
                points: points,
                feedback: question.feedback,
                total_score: currentQuizSession ? currentQuizSession.current_score : points
            };
        }
        
        // Fungsi untuk memulai kuis
        function startQuiz() {
            currentQuizSession = createQuizSession();
            currentQuestion = 0;
            score = 0;
            quizStarted = true;
            
            trackEvent('quiz_started', { 
                session_id: currentQuizSession.id,
                user_id: currentQuizSession.user_id 
            });
            
            showQuestion();
        }
        
        // Fungsi untuk menampilkan pertanyaan
        function showQuestion() {
            if (currentQuestion >= quizData.length) {
                showResults();
                return;
            }
            
            const question = quizData[currentQuestion];
            
            // Update UI dengan pertanyaan baru
            document.getElementById('scenario-text').textContent = question.question;
            
            const choicesContainer = document.getElementById('choices-container');
            choicesContainer.innerHTML = '';
            
            question.choices.forEach((choice, index) => {
                const button = document.createElement('button');
                button.className = 'choice-btn w-full text-left p-4 rounded-lg bg-white hover:bg-blue-50 transition border-2 border-gray-200 hover:border-blue-300 mb-4';
                button.innerHTML = `
                    <div class="flex items-center">
                        <div class="w-8 h-8 rounded-full border-2 border-blue-600 flex items-center justify-center mr-4 flex-shrink-0">
                            <span class="text-blue-600 font-bold">${String.fromCharCode(65 + index)}</span>
                        </div>
                        <span class="text-gray-800">${choice}</span>
                    </div>
                `;
                button.onclick = () => selectAnswer(question.id, index);
                choicesContainer.appendChild(button);
            });
            
            // Update progress
            const progress = ((currentQuestion + 1) / quizData.length) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
            document.getElementById('progress-text').textContent = `${Math.round(progress)}%`;
        }
        
        // Fungsi untuk memilih jawaban
        async function selectAnswer(questionId, selectedIndex) {
            // Disable semua tombol
            const buttons = document.querySelectorAll('.choice-btn');
            buttons.forEach(button => button.disabled = true);
            
            try {
                const response = await submitAnswer(questionId, selectedIndex);
                
                // Tampilkan feedback
                const feedbackDiv = document.createElement('div');
                feedbackDiv.className = `mt-4 p-4 rounded-lg ${response.correct ? 'bg-green-100 border border-green-200' : 'bg-red-100 border border-red-200'}`;
                feedbackDiv.innerHTML = `<p class="font-medium ${response.correct ? 'text-green-800' : 'text-red-800'}">${response.feedback}</p>`;
                document.getElementById('choices-container').appendChild(feedbackDiv);
                
                score = response.total_score;
                
                trackEvent('question_answered', {
                    session_id: currentQuizSession.id,
                    question_id: questionId,
                    selected_answer: selectedIndex,
                    correct: response.correct,
                    points: response.points,
                    user_id: currentQuizSession.user_id
                });
                
                // Pindah ke pertanyaan berikutnya setelah delay
                setTimeout(() => {
                    currentQuestion++;
                    showQuestion();
                }, 2000);
                
            } catch (error) {
                console.error('Error submitting answer:', error);
                // Handle error - mungkin tampilkan pesan error ke user
            }
        }
        
        // Fungsi untuk menampilkan hasil
        function showResults() {
            const finalScore = Math.round((score / (quizData.length * 10)) * 100);
            
            // Simulasi pengecekan kelayakan sertifikat
            const certificateEligible = finalScore >= 70;
            
            document.getElementById('choices-container').innerHTML = `
                <div class="text-center py-12">
                    <i class="fas fa-trophy text-6xl text-yellow-500 mb-4"></i>
                    <h4 class="text-3xl font-bold text-gray-800 mb-4">Quiz Completed!</h4>
                    <p class="text-xl text-gray-700 mb-4">Your Score: <span class="font-bold text-blue-600">${score}/${quizData.length * 10} (${finalScore}%)</span></p>
                    ${certificateEligible ? 
                        '<p class="text-green-600 font-semibold mb-4">ðŸŽ‰ Congratulations! You earned a certificate!</p>' :
                        '<p class="text-orange-600 mb-4">Keep learning and try again to earn your certificate!</p>'
                    }
                    <div class="flex justify-center space-x-4">
                        <button onclick="startQuiz()" class="btn-secondary btn-icon btn-ripple">
                            <i class="fas fa-redo mr-2"></i>Try Again
                        </button>
                        <a href="interactive.html" class="text-blue-600 hover:text-blue-800">
                            <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
            `;
            
            // Simulasi update final score
            if (currentQuizSession) {
                const newScore = score;
                const percentage = Math.round((newScore / (quizData.length * 10)) * 100);
                response.quiz_completed = true;
                response.final_score_percentage = percentage;
                response.certificate_eligible = percentage >= 70;
                
                trackEvent('quiz_completed', { 
                    session_id: currentQuizSession,
                    final_score: newScore,
                    percentage: percentage,
                    user_id: session.user_id
                });
            } else {
                console.error('No active quiz session found');
            }
        }
    </script>
</body>
</html>